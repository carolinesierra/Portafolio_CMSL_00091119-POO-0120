Nombre de base de datos: 'PreParcial'

CREATE TABLE USUARIOS (
	usuario CHARACTER VARYING (50) PRIMARY KEY NOT NULL,
	contrasenia VARCHAR(25) NOT NULL,
	admin BOOLEAN NOT NULL,
	activo BOOLEAN NOT NULL
);

CREATE TABLE REGISTRO(
	idRegistro SERIAL PRIMARY KEY NOT NULL,
	usuario CHARACTER VARYING (50) NOT NULL,
	entrar BOOLEAN NOT NULL,
	fecha TIMESTAMP WITHOUT TIME ZONE NOT NULL DEFAULT now(),
	CONSTRAINT fk_registro_usuario FOREIGN KEY (usuario)
		REFERENCES USUARIOS (usuario) MATCH SIMPLE
		ON UPDATE NO ACTION
		ON DELETE NO ACTION
		NOT VALID
);

CREATE TABLE INVENTARIO(
	idArticulo SERIAL PRIMARY KEY,
	nombre VARCHAR(50) NOT NULL,
	descripcion VARCHAR(100) NOT NULL,
	precio NUMERIC NOT NULL,
	stock INT NOT NULL
);

CREATE TABLE PEDIDOS(
	idPedido SERIAL PRIMARY KEY,
	usuario VARCHAR(50) NOT NULL,
	idArticulo INT NOT NULL
);

ALTER TABLE PEDIDOS
ADD CONSTRAINT fk_pedidos_inventario
FOREIGN KEY (idArticulo) REFERENCES INVENTARIO (idArticulo);

ALTER TABLE PEDIDOS
ADD CONSTRAINT fk_pedidos_usuarios
FOREIGN KEY (usuario) REFERENCES USUARIOS (usuario);

SELECT * FROM USUARIOS
SELECT * FROM REGISTRO
SELECT * FROM INVENTARIO
SELECT * FROM PEDIDOS